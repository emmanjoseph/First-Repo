"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useResize = void 0;
var react_1 = require("react");
var useResize = function (_a) {
    var ref = _a.ref, setSelected = _a.setSelected, cardWidth = _a.cardWidth, refCard = _a.refCard, isRegularCardsShown = _a.isRegularCardsShown;
    var _b = (0, react_1.useState)(0), width = _b[0], setWidth = _b[1];
    var _c = (0, react_1.useState)(cardWidth), widthCard = _c[0], setWidthCard = _c[1];
    (0, react_1.useEffect)(function () {
        if (width) {
            var selected = Math.ceil(width / cardWidth);
            var selectedCount = isRegularCardsShown ? 1 : 2;
            setSelected(selected > 1 ? selected : selectedCount);
        }
    }, [width, cardWidth, setSelected, isRegularCardsShown]);
    (0, react_1.useLayoutEffect)(function () {
        var updateSize = function () {
            if (ref && ref.current) {
                setWidth(ref.current.offsetWidth);
            }
            if (refCard && refCard.current) {
                setWidthCard(refCard.current.offsetWidth);
            }
        };
        window.addEventListener('resize', updateSize);
        updateSize();
        return function () { return window.removeEventListener('resize', updateSize); };
    }, []);
    return { width: width, setWidth: setWidth, widthCard: widthCard };
};
exports.useResize = useResize;
//# sourceMappingURL=useResize.js.map